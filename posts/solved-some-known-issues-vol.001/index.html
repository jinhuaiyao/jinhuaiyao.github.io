<!DOCTYPE html>
<html lang="en-us" class="scroll-smooth">
    <head><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>解决了一些已知问题 VOL.001 | 还得动起来</title>
<meta name="description" content="最近，解决了一些已知问题：
1. 如何多运动
最近几个月稍许没控制饮食 &#43; 偷懒不运动，体重随即增加好几斤。
痛定思痛，把体重秤和瑜伽垫放到书桌边，时常称重一下，不断提醒自己体重已超标。
闲暇时就站到瑜伽垫上做几组 HIIT。
睡前准备好跑步衣服、水壶、袜子和鞋，早上起来洗漱后简单热身一下就出门；不想跑就先走一公里。
2. 配置文件历史记录的问题
以前只是用文件备份的方式，总是感觉很不优雅，但一直拖着不去解决。
jinhuaiyao@jinhuaiyao-macbook-pro Mac_Script % ls -ltr *[0-9][0-9]* |head -4 -rw-r--r-- 1 jinhuaiyao staff 10700 Aug 22 2018 rsa.">
<link rel="canonical" href="http://www.jinhuaiyao.com/posts/solved-some-known-issues-vol.001/">
<link rel="robots" href="/robots.txt" />

<link rel="stylesheet" href="http://www.jinhuaiyao.com/css/app.min.40602969775ec83f8e99714fa2300cc28ba60bb57dba65fa9406f626a931d492.css" integrity="sha256-QGApaXdeyD+OmXFPojAMwoumC7V9umX6lAb2Jqkx1JI=" ></head>
    <body class="max-w-screen-md px-10 mx-auto">
        <header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
    

<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
    <a href="http://www.jinhuaiyao.com/">
        <img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/profile-picture.jpg" width="80" height="80" alt="Huaiyao Jin">
    </a>
</div>

    <div class="flex flex-col gap-5">
    <a href="http://www.jinhuaiyao.com/">
    
    <h3 class="text-center sm:text-left text-4xl font-extrabold text-gray-800 ">Huaiyao Jin</h3>
    
</a>
    <nav>
    <ul class="flex flex-wrap justify-left uppercase text-sm  gap-3 text-gray-500 ">
        
        
        <li class="hover:text-gray-500"><a href="/">首页</a></li>
        
        <li class="hover:text-gray-500"><a href="/posts">文章</a></li>
        
    </ul>
</nav>
    </div>
</header>
        <main id="content">
<article class="flex flex-col gap-5">

    <div class="fixed top-24 left-8 hidden lg:inline-block text-sm " >
        
    </div>


    <header class="flex flex-col gap-1 mb-5">
        <h2 class="text-xl leading-snug font-bold text-gray-900">解决了一些已知问题 VOL.001 | 还得动起来</h2>

        <div class="text-xs font-semibold text-gray-500 flex gap-3">
        
        
<time datetime="2025-07-17 07:34:17 &#43;0800 CST" title="2025-07-17 07:34:17 &#43;0800 CST">
    2025/07/17
</time>
        
        
        </div>
    </header>
    </article>



    <section class="content text-base text-gray-800 mt-3">
    <p>最近，解决了一些已知问题：</p>
<p><strong>1. 如何多运动</strong></p>
<p>最近几个月稍许没控制饮食 + 偷懒不运动，体重随即增加好几斤。</p>
<p>痛定思痛，把体重秤和瑜伽垫放到书桌边，时常称重一下，不断提醒自己体重已超标。</p>
<p>闲暇时就站到瑜伽垫上做几组 HIIT。</p>
<p>睡前准备好跑步衣服、水壶、袜子和鞋，早上起来洗漱后简单热身一下就出门；不想跑就先走一公里。</p>
<p><strong>2. 配置文件历史记录的问题</strong></p>
<p>以前只是用文件备份的方式，总是感觉很不优雅，但一直拖着不去解决。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-macbook-pro Mac_Script % ls -ltr *[0-9][0-9]* |head -4
</span></span><span class="line"><span class="cl">-rw-r--r--  1 jinhuaiyao  staff  10700 Aug 22  2018 rsa.scpt.20180822
</span></span><span class="line"><span class="cl">-rw-r--r--  1 jinhuaiyao  staff     91 Aug 22  2018 lvspmgt1.20180822
</span></span><span class="line"><span class="cl">-rw-r--r--  1 jinhuaiyao  staff    241 Aug 14  2021 lvspmgt.20210814
</span></span><span class="line"><span class="cl">-rw-r--r--  1 jinhuaiyao  staff    241 Sep 15  2021 lvspmgt.20210915
</span></span></code></pre></div><p>这几个月频繁使用 gitea 管理脚本，于是想到配置文件也可以通过 git 去管理，不同的配置文件放在不同的 repo 即可，只是初始化费点事而已。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ ls -ltr
</span></span><span class="line"><span class="cl">total 16
</span></span><span class="line"><span class="cl">-rw-rw-r-- 1 jinhuaiyao jinhuaiyao 1514 Apr  3 13:24 startpage.yml
</span></span><span class="line"><span class="cl">-rw-rw-r-- 1 jinhuaiyao jinhuaiyao  436 Apr  3 13:31 glance.yml
</span></span><span class="line"><span class="cl">-rw-rw-r-- 1 jinhuaiyao jinhuaiyao 2256 Apr  3 16:49 home.yml.bad
</span></span><span class="line"><span class="cl">-rw-rw-r-- 1 jinhuaiyao jinhuaiyao 2525 Apr 14 19:17 home.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git init
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git remote add origin  http://10.0.3.200:3000/jinhuaiyao/glance-config.git
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git add .
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git config --global user.name &#34;jinhuaiyao&#34;
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git config --global user.email &#34;jinhuaiyao@xxx.com&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git commit -m &#34;init: glance config&#34;
</span></span><span class="line"><span class="cl">[master (root-commit) 5fedbce] init: glance config
</span></span><span class="line"><span class="cl"> 4 files changed, 216 insertions (+)
</span></span><span class="line"><span class="cl"> create mode 100644 glance.yml
</span></span><span class="line"><span class="cl"> create mode 100644 home.yml
</span></span><span class="line"><span class="cl"> create mode 100644 home.yml.bad
</span></span><span class="line"><span class="cl"> create mode 100644 startpage.yml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git config --global credential.helper store
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~/glance/config$ git push -u origin master
</span></span></code></pre></div><p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250717073557.png" alt=""></p>
<p><strong>3. PDF 转 markdown 文件的问题</strong></p>
<p>断断续续收集了许多 PDF 格式的文章，需要一款工具能够方便地将值得反思读的文章转成 markdown 格式，存于 Notion，阅读 + 批注。</p>
<p>最近找到了微软开源的工具 markitdown，试用了一下，符合预期。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 安装 Homebrew
</span></span><span class="line"><span class="cl">/bin/bash -c &#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 安装 python
</span></span><span class="line"><span class="cl">brew install python
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyaos-macbook-air markitdown % which python3
</span></span><span class="line"><span class="cl">/opt/homebrew/bin/python3
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyaos-macbook-air markitdown % python3 --version
</span></span><span class="line"><span class="cl">Python 3.13.5
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 安装 markitdown
</span></span><span class="line"><span class="cl">cd ~/Documents
</span></span><span class="line"><span class="cl">git clone https://github.com/microsoft/markitdown.git
</span></span><span class="line"><span class="cl">cd markitdown
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyaos-macbook-air markitdown % /opt/homebrew/bin/python3 -m venv .venv
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyaos-macbook-air markitdown % source .venv/bin/activate
</span></span><span class="line"><span class="cl">(.venv) jinhuaiyao@jinhuaiyaos-macbook-air markitdown % pip install -e &#39;packages/markitdown [all]&#39;
</span></span><span class="line"><span class="cl">Obtaining file:///Users/jinhuaiyao/Documents/markitdown/packages/markitdown
</span></span><span class="line"><span class="cl">  Installing build dependencies ... done
</span></span><span class="line"><span class="cl">  Checking if build backend supports build_editable ... done
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl">Successfully built markitdown
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl">  ...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 试用一下
</span></span><span class="line"><span class="cl">(.venv) jinhuaiyao@jinhuaiyaos-macbook-air markitdown % which markitdown
</span></span><span class="line"><span class="cl">/Users/jinhuaiyao/Documents/markitdown/.venv/bin/markitdown
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">(.venv) jinhuaiyao@jinhuaiyaos-macbook-air Documents % markitdown a.pdf &gt; a.md
</span></span></code></pre></div><p>命令行的方式还是不方便，需要一个可以用图形化的方式。</p>
<p>打开 Automator，新建一个 Quick Action，命名为 ToMarkDown。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/Xnip2025-07-15_09-26-48.png" alt=""></p>
<p>设置调用 shell 脚本去执行 python 脚本。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cd ~/Documents/markitdown
</span></span><span class="line"><span class="cl">file_path=&#34;$(realpath&#34;$1&#34;)&#34;
</span></span><span class="line"><span class="cl">./.venv/bin/python3 /Users/jinhuaiyao/Nextcloud/Config/Mac_Script/convert_pdf.py &#34;$file_path&#34;
</span></span></code></pre></div><p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250717073735.png" alt=""></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-macbook-pro Mac_Script % cat convert_pdf.py
</span></span><span class="line"><span class="cl">import sys
</span></span><span class="line"><span class="cl">import os
</span></span><span class="line"><span class="cl">from markitdown import MarkItDown
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">file_path = sys.argv [1]
</span></span><span class="line"><span class="cl">output_dir = os.path.dirname (file_path)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">md = MarkItDown ()
</span></span><span class="line"><span class="cl">result = md.convert (file_path)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">output_file = os.path.join (output_dir, os.path.basename (file_path).replace (&#34;.pdf&#34;, &#34;.md&#34;))
</span></span><span class="line"><span class="cl">with open (output_file, &#39;w&#39;) as f:
</span></span><span class="line"><span class="cl">    f.write (result.text_content)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">print (f&#34;Saved to: {output_file}&#34;)
</span></span></code></pre></div><p>右击一个 PDF 文件，Quick Actions → ToMarkdown，就可以在当前目录得到同名的 markdown 文件了。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250717073804.png" alt=""></p>
<p>也可以通过 System Settings → Keyboard → Keyboard Shortcuts → Services → Files and Folders，给 ToMarkDown 设置一个快捷键，这样就不需要鼠标操作了。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250717073822.png" alt=""></p>
<p>效果图：</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/Xnip2025-07-16_20-03-23.png" alt=""></p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/Xnip2025-07-16_20-57-35.png" alt=""></p>

    </section>




    


    <footer>
        


    </footer>





        </main>
        <br><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1 ">
    © 2017 - 2025  
</div>
    <div class="text-xs font-semibold text-gray-500 order-1 sm:order-2">
    <ul class="flex sm:justify-end gap-5">
    
    </ul>
</div>
</footer></body>
</html>
