<!DOCTYPE html>
<html lang="en-us" class="scroll-smooth">
    <head><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>家庭 NAS &#43; 私有云，我的家用服务器装了什么</title>
<meta name="description" content="今年 2 月中旬服役了快 10 年的威联通 NAS 突然没响应，折腾半天已然无力回天。
研究一阵子后决定把以前公司淘汰下来的 Dell 工作站 T7820 改造成家用服务器。
这次改造的目标是所有个人重要数据都不依赖 OneDrive、Dropbox 等公共网盘进行存储">
<link rel="canonical" href="http://www.jinhuaiyao.com/posts/what-is-installed-on-my-home-server/">
<link rel="robots" href="/robots.txt" />

<link rel="stylesheet" href="http://www.jinhuaiyao.com/css/app.min.40602969775ec83f8e99714fa2300cc28ba60bb57dba65fa9406f626a931d492.css" integrity="sha256-QGApaXdeyD+OmXFPojAMwoumC7V9umX6lAb2Jqkx1JI=" ></head>
    <body class="max-w-screen-md px-10 mx-auto">
        <header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
    

<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
    <a href="http://www.jinhuaiyao.com/">
        <img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/profile-picture.jpg" width="80" height="80" alt="Huaiyao Jin">
    </a>
</div>

    <div class="flex flex-col gap-5">
    <a href="http://www.jinhuaiyao.com/">
    
    <h3 class="text-center sm:text-left text-4xl font-extrabold text-gray-800 ">Huaiyao Jin</h3>
    
</a>
    <nav>
    <ul class="flex flex-wrap justify-left uppercase text-sm  gap-3 text-gray-500 ">
        
        
        <li class="hover:text-gray-500"><a href="/">首页</a></li>
        
        <li class="hover:text-gray-500"><a href="/posts">文章</a></li>
        
    </ul>
</nav>
    </div>
</header>
        <main id="content">
<article class="flex flex-col gap-5">

    <div class="fixed top-24 left-8 hidden lg:inline-block text-sm " >
        
    </div>


    <header class="flex flex-col gap-1 mb-5">
        <h2 class="text-xl leading-snug font-bold text-gray-900">家庭 NAS &#43; 私有云，我的家用服务器装了什么</h2>

        <div class="text-xs font-semibold text-gray-500 flex gap-3">
        
        
<time datetime="2025-07-12 19:59:20 &#43;0800 &#43;08" title="2025-07-12 19:59:20 &#43;0800 &#43;08">
    2025/07/12
</time>
        
        
        </div>
    </header>
    </article>



    <section class="content text-base text-gray-800 mt-3">
    <p>今年 2 月中旬服役了快 10 年的威联通 NAS 突然没响应，折腾半天已然无力回天。</p>
<p>研究一阵子后决定把以前公司淘汰下来的 Dell 工作站 T7820 改造成家用服务器。</p>
<p><strong>这次改造的目标是所有个人重要数据都不依赖 OneDrive、Dropbox 等公共网盘进行存储</strong></p>
<p>底层系统选择相对比较熟悉的 Ubuntu，安装了 Ubuntu 24.04.2 LTS Server 版本。</p>
<p>存储是一块 1T 固态硬盘、两块 8T 机械硬盘和一个 8T 桌面移动硬盘。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~$ df -h |egrep &#39;home|media&#39;
</span></span><span class="line"><span class="cl">/dev/nvme0n1p3  838G  103G  693G  13% /home
</span></span><span class="line"><span class="cl">/dev/sda1       7.3T  2.4T  4.6T  34% /media/jinhuaiyao/data2
</span></span><span class="line"><span class="cl">/dev/sdb1       7.3T  2.2T  4.7T  32% /media/jinhuaiyao/data1
</span></span><span class="line"><span class="cl">/dev/sdc1       7.3T  2.4T  4.6T  35% /media/jinhuaiyao/backup
</span></span></code></pre></div><hr>
<p>装了什么：</p>
<p><strong>Nginx + WebDAV</strong></p>
<p>用于 DEVONthink 和 Zotero 的同步。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root@jinhuaiyao-t7820:/home/jinhuaiyao/webdav# ls
</span></span><span class="line"><span class="cl">devonthink.dtCloud  index.html  zotero
</span></span></code></pre></div><p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200458.png" alt=""></p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200532.png" alt=""></p>
<p><strong>Samba</strong></p>
<p>用于局域网的设备访问服务器里的资料。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200625.png" alt=""></p>
<p><strong>Docker</strong></p>
<p>Docker 里安装了以下几个服务。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200706.png" alt=""></p>
<p>Glance</p>
<p>自托管的信息仪表盘，上面这个界面就是来自于 Glance。</p>
<p>Gitea</p>
<p>轻量级的、开源的 Git 代码仓库托管平台，用来管理我的代码和配置文件。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200746.png" alt=""></p>
<p>Immich + MT-Photos</p>
<p>开源自托管照片应用，存放我和家人的照片、视频。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200817.png" alt=""></p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200843.png" alt=""></p>
<p>Memos</p>
<p>轻量级的、开源的、自托管 “碎片记录”，用来临时存放一些信息。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712200935.png" alt=""></p>
<p>Portainer</p>
<p>一个开源的 Docker 图形化管理面板。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201015.png" alt=""></p>
<p>NginxProxyManager</p>
<p>反向代理和 HTTPS 管理工具。使用它让我的内网也能使用 https。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201045.png" alt=""></p>
<p>Nextcloud</p>
<p>开源、自托管的私有云存储平台，我用来替代 OneDrive、Dropbox。尽可能地把所有个人数据都存放在这里。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201110.png" alt=""></p>
<p>数据存放在 /media/jinhuaiyao/data1 这个磁盘上。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:/media/jinhuaiyao/data1/nextcloud$ ls
</span></span><span class="line"><span class="cl">admin  appdata_ochyim22b4zf  audit.log  fts-index.done  index.html  nextcloud.log
</span></span><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:/media/jinhuaiyao/data1/nextcloud$ df -h .
</span></span><span class="line"><span class="cl">Filesystem      Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="cl">/dev/sdb1       7.3T  2.2T  4.7T  32% /media/jinhuaiyao/data1
</span></span></code></pre></div><p>Glances</p>
<p>系统性能监控工具，用来监控 Ubuntu 服务器的状态。</p>
<p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201143.png" alt=""></p>
<p><strong>QEMU-KVM</strong></p>
<p>用它安装了两台虚拟机，Ubuntu 桌面版和 Windows 10。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:~$ virsh list --all
</span></span><span class="line"><span class="cl"> Id   Name           State
</span></span><span class="line"><span class="cl">------------------------------
</span></span><span class="line"><span class="cl"> 1    nextcloud-vm   running
</span></span><span class="line"><span class="cl"> 23   win10          running
</span></span></code></pre></div><p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201229.png" alt=""></p>
<p>Ubuntu 桌面版上安装 Nextcloud 的客户端，数据同步存放在 /media/jinhuaiyao/data2 这个磁盘上，可作为一份数据备份。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">jinhuaiyao@jinhuaiyao-t7820:/media/jinhuaiyao/data2/Nextcloud$ ls
</span></span><span class="line"><span class="cl">Backup  Config  DengDeng  Learning  Personal  Reading  Tools  TV  Videos  Zotero
</span></span></code></pre></div><p><img src="https://huaiyao-image-hosting.oss-cn-shanghai.aliyuncs.com/images/20250712201306.png" alt=""></p>
<p>Windows 10 一般只是临时用一下，使用 macOS 上的 “Windows App” 远程连接。</p>
<hr>
<p>目前，这些应用和服务已经基本覆盖了我的使用需求。关于数据备份和内网访问，我会在后续单独写文章详细展开一下。</p>

    </section>




    


    <footer>
        


    </footer>





        </main>
        <br><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1 ">
    © 2017 - 2026  
</div>
    <div class="text-xs font-semibold text-gray-500 order-1 sm:order-2">
    <ul class="flex sm:justify-end gap-5">
    
    </ul>
</div>
</footer></body>
</html>
